{% extends 'dashboard/base.html' %}
{% load static %}

{% block stylesheets %}
<link rel="stylesheet" type="text/css" href="{% static 'dashboard/css/style.css' %}">
{% endblock stylesheets %}

{% block body_content %}

<div class="card-panel">
    <div class="card-panel orange darken-4">Editer un Achat <a href="{% url 'ventes:ventePage' %}"
            class="btn-flat waves-effect right"><i class="material-icons right">keyboard_return</i></a></div>
    <div class="info_text valign-wrapper">
        <p class="blue-text lighten-2">
            <small>
                Vous êtes entrain de modifier les informations d'un achat déjà effectué.
                Vous pouvez toujours retourner en cliquant sur l'icon d'en haut.
            </small>
        </p>
    </div>
    <form action="" method="post">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ request.path }}">
        <!--- Form -->
        <div class="row" id="venteID">
            <div class="input-field col m5 s10">
                {{ form.produit }}
                <label for="{{form.produit.id_for_label}}">Produit</label>
            </div>
            <div class="input-field col m1 s2">
                <a href="{% url 'dashboard:productPage' %}" name="clientID"
                    class="btn-flat deep-orange-text accent-3 tooltipped" data-position="bottom"
                    data-tooltip="Nouveau Produit">
                    <i class="material-icons right">local_mall</i>
                </a>
            </div>
            <div class="input-field col m5 s10">
                {{ form.client }}
                <label for="{{form.client.id_for_label}}">Client</label>
            </div>
            <div class="input-field col m1 s2">
                <a href="{% url 'clients:clientPage' %}" name="clientID"
                    class="btn-flat deep-orange-text accent-3 tooltipped" data-position="bottom"
                    data-tooltip="Nouveau Vendeur">
                    <i class="material-icons right">person_add</i>
                </a>
            </div>

        </div>
        <div class="row center-align">
            <div class="input-field col m6 s12">
                {{ form.price }}
                <label for="{{ form.price.id_for_label }}">Prix de vente </label>
            </div>

            <div class="input-field col m6 s12">
                {{ form.acompte }}
                <label for="{{form.acompte.id_for_label}}">Acompte</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col m6 s12">
                {{ form.quantity }}
                <label for="{{form.quantity.id_for_label}}">Quantité</label>
            </div>
            <div class="col m6 s12">
                <ul class="collapsible">
                    <li>
                        <div class="collapsible-header"><i class="material-icons">health_and_safety</i> Assurez-vous une
                            garantie
                            pour ce produit ?</div>
                        <div class="collapsible-body">
                            <div class="row">
                                <div class="input-field col m6 s12">
                                    <label for="{{ form.guarantee.id_for_label }}">
                                        {{ form.guarantee }}
                                        <span>Garantie</span>
                                    </label>
                                </div>
                                <div class="input-field col m6 s12">
                                    {{ form.guarantee_period }}
                                    <label for="{{ form.guarantee_period.id_for_label }}">Delai garantie</label>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

        <div class="col s12">
            <button class="waves-effect waves-green btn-flat black" type="submit">
                <i class="material-icons right deep-orange-text accent-3 right">thumb_up_alt</i>
                <b class="deep-orange-text accent-3">Enregistrer</b>
            </button>
        </div>
    </form>
</div>
</div>

{% endblock body_content %}

{% block javascripts %}
<script type="text/javascript" src="{% static 'dashboard/js/materialize_setup.js' %}"></script>
{% endblock javascripts %}